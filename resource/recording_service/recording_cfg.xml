<?xml version="1.0" encoding="UTF-8"?>

<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:noNamespaceSchemaLocation="https://community.rti.com/schema/6.0.0/rti_recording_service.xsd">


    <!-- ================================================================= -->
    <!-- RECORDING SERVICE CONFIGURATION                                     -->
    <!-- ================================================================= -->

    <!-- THE NAME OF THE CONFIGURATION SHALL NOT BE MODIFED, is used by
        commonservice_wrapper.sh to launch the services -->
    <recording_service name="recording_service_test">
        <!--  Top-level storage settings -->
        <storage>
            <sqlite>
                <file>rti_recorder_default</file>
                <file_suffix>dat</file_suffix>
            </sqlite>

        </storage>

        <!--  Top-level domain settings -->
        <domain_participant name="Participant0">
            <domain_id>0</domain_id>

            <participant_qos base_name="PerformanceLibraries_Modified::BaseProfileQos"/>
        </domain_participant>

        <session name="DefaultSession">
            <subscriber_qos base_name="PerformanceLibraries_Modified::ThroughputQos"/>

            <thread_pool>
                <!-- a number greater than 1 requires thread-safe dblink plugin -->
                <size>$(TEST_THREAD_POOL_SIZE)</size>
                <priority>THREAD_PRIORITY_HIGH</priority>
            </thread_pool>

            <topic_group name="RecordAll" participant_ref="Participant0">
                <allow_topic_name_filter>Throughput</allow_topic_name_filter>
                <deny_topic_name_filter>rti/*</deny_topic_name_filter>
                <datareader_qos base_name="PerformanceLibraries_Modified::ThroughputQos">
                    <multicast>
                        <value>
                            <element>
                                <!-- perftest by default publishes the throughput topic in this address for multicast -->
                                <receive_address>239.255.1.1</receive_address>
                            </element>
                        </value>
                    </multicast>
                </datareader_qos>
            </topic_group>
        </session>
    </recording_service>

</dds>